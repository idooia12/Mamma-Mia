{% extends 'mammaMia/base.html' %}
{% load i18n %}

{% block title %}Mamma Mia üçï - SPA VUE{% endblock %}

{% block content %}
    <p v-if="pizzas.length === 0">
        {% trans "No hay pizzas disponibles todav√≠a." %}
    </p>

    <div v-else>
        <div v-for="pizza in pizzas" :key="pizza.id" class="pizza">
            <div class="pizza-contenido">
                <div class="pizza-info">
                    <a href="#" class="pizza-link">
                        <h2>[[ pizza.nombre ]]</h2>
                    </a>
                    
                    <p><strong>{% trans "Masa:" %}</strong> [[ pizza.masa ]]</p>
                    <p><strong>{% trans "Precio:" %}</strong> <span class="precio">[[ pizza.precio ]] ‚Ç¨</span></p>

                    <p v-if="pizza.descripcion">[[ pizza.descripcion ]]</p>
                </div>

                <div class="pizza-imagen">
                    <img v-if="pizza.imagen" :src="pizza.imagen" :alt="pizza.nombre">
                    <p v-else>{% trans "Sin imagen disponible" %}</p>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
<script>
    // Iniciamos la aplicaci√≥n VUE
    var app = new Vue({
        el: '#app',
        delimiters: ['[[', ']]'], // Cambiamos {{ }} por [[ ]] para no confundir a Django
        data: {
            // AQU√ç EST√ÅN TUS DATOS (Simulando la base de datos para Netlify)
            pizzas: [
                {
                    id: 1,
                    nombre: "Margarita",
                    masa: "Fina",
                    precio: 9.50,
                    descripcion: "La cl√°sica italiana con tomate y mozzarella fresca.",
                    imagen: "https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=500"
                },
                {
                    id: 2,
                    nombre: "Pepperoni",
                    masa: "Gruesa",
                    precio: 11.00,
                    descripcion: "Para los amantes del picante.",
                    imagen: "https://images.unsplash.com/photo-1628840042765-356cda07504e?w=500"
                },
                {
                    id: 3,
                    nombre: "Cuatro Quesos",
                    masa: "Bordes rellenos",
                    precio: 12.50,
                    descripcion: "Mozzarella, Gorgonzola, Parmesano y Cheddar.",
                    imagen: "https://images.unsplash.com/photo-1513104890138-7c749659a591?w=500"
                }
            ]
        }
    })
</script>
{% endblock %}