{% extends 'mammaMia/base.html' %}
{% load i18n %}

{% block title %}{{ pizza.nombre }} - Mamma Mia{% endblock %}

{% block subtitle %}{% trans "Detalles de la pizza seleccionada" %}{% endblock %}

{% block content %}
    <div class="detalle">
        <div class="detalle-contenido">
            <div class="detalle-info">
                <h2>{{ pizza.nombre }}</h2>

                <p><strong>{% trans "Masa:" %}</strong> 
                    <a href="{% url 'detalleMasa' pizza.masa.pk %}" class="enlace-masa">
                        {{ pizza.masa.nombre }}
                    </a>
                </p>
                <p><strong>{% trans "Precio:" %}</strong> <span class="precio">{{ pizza.precio }} €</span></p>

                {% if pizza.descripcion %}
                    <p>{{ pizza.descripcion }}</p>
                {% endif %}

                <h3>{% trans "Ingredientes:" %}</h3>
                <ul class="lista-ingredientes">
                    {% for ing in pizza.ingredientes.all %}
                        <li>
                            <a href="{% url 'detalleIngrediente' ing.pk %}" class="enlace-ingrediente">
                                {{ ing.nombre }}
                                {% if ing.alergeno %}
                                    <span class="alergeno-mini">⚠️</span>
                                {% endif %}
                            </a>
                        </li>
                    {% empty %}
                        <li>{% trans "No tiene ingredientes registrados." %}</li>
                    {% endfor %}
                </ul>

                <a class="boton-volver" href="{% url 'todasLasPizzas' %}">{% trans "⬅ Volver al listado" %}</a>
            </div>

            <div class="detalle-imagen">
                {% if pizza.imagen %}
                    <img src="{{ pizza.imagen.url }}" alt="{{ pizza.nombre }}">
                {% else %}
                    <p>{% trans "Sin imagen disponible" %}</p>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}